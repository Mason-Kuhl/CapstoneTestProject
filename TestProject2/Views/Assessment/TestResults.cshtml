@model TestProject2.Models.TestViewModel
@{
    ViewBag.Title = "TestResults";
}

@{ var questionCounter = 1; }
@{ var scoreCounter = 0; }

<h2>Test Results</h2>
<p>If your answer is correct it will be displayed in green, otherwise, it will be displayed in red with the correct answer in bold</p>

@for (int i = 0; i < Model.TestQuestions.Count; i++)
{
    <br />
    if (Model.TestQuestions[i].Answer == Model.UserAnswers[i])
    {
        <h4>&#9989;Question @questionCounter</h4>
        @Html.DisplayFor(model => model.TestQuestions[i].MathQuestion);
        <br />
        <span style="color:green">
            <p>Your answer: @Html.DisplayFor(model => model.UserAnswers[i])</p>
        </span>
        scoreCounter++;
    }
    else
    {
        <h4>&#10060; Question @questionCounter</h4>
        @Html.DisplayFor(model => model.TestQuestions[i].MathQuestion);
        <br />
        <p><b>Correct answer: @Html.DisplayFor(model => model.TestQuestions[i].Answer)</b></p>
        <span style="color:red">
            <p>Your answer: @Html.DisplayFor(model => model.UserAnswers[i])</p>
        </span>
    }

    questionCounter++;
}

@{ questionCounter--; }
<h3><b>Score: @scoreCounter/@questionCounter</b></h3>