@using TestProject2.Models
@using Newtonsoft.Json
@model TestProject2.Models.DrillViewModel
@{ ViewBag.Title = "Drill"; }

<h2>Drill</h2>

@{
    var questionCounter = 1;
    var answerList = new List<string> { };
}

@*@using (Html.BeginForm("DrillResults", "Assessment", FormMethod.Post))*@
<form asp-action="Drill" method="post">


    @Html.HiddenFor(m => m.CurrentTier)
    @Html.HiddenFor(m => m.StudentId)
    @Html.HiddenFor(m => m.DrillQuestions)

    @foreach (var q in Model.DrillQuestions)
    {
        <h4>Question @questionCounter:</h4>

        <h7>@q.MathQuestion</h7>
        <br />
        <input type="text" id="idTxtAnswer_@questionCounter" name="txtAnswer_@questionCounter" />
        <br />
        <br />
        <br />

        { questionCounter = questionCounter + 1; }
    }

    @*@Html.Hidden("currentTier", Model.CurrentTier)
    @Html.Hidden("studentId", Model.StudentId)
    @Html.Hidden("questions", Model.DrillQuestions)*@

    @{ var modelList = new List<Question>(); }

    @for (int i = 0; i < Model.DrillQuestions.Count; i++)
    {
        modelList.Add(Model.DrillQuestions[i]);
    }

    @{ Model.DrillQuestions = modelList; }

    <input type="hidden" name="qList" value="@modelList" />

    @{
        TempData["question_List"] = Model.DrillQuestions;
    }

    <input type="submit" value="Submit1"/>

</form>


